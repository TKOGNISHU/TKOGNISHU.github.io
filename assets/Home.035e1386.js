import{_ as b,s as y,H as D,F as p,p as E,i as T,r as h,o as n,c as l,a as s,b as m,d as f,n as x,e as d,w as u,t as c,g as r,h as v}from"./index.4c92d78a.js";import{C as I}from"./Card.e49c66b2.js";import{R as j}from"./RightPage.14e988d7.js";const A={props:{},data(){return{topViews:[],slug:y,HTTP_GG_DRIVE:D}},methods:{async retrieveData(){try{this.topViews=await p.topView()}catch(e){console.log(e),alert("C\xF3 l\u1ED7i x\u1EA3y ra! Vui l\xF2ng t\u1EA3i l\u1EA1i trang!")}},showCondition:E,showExist:T},created(){this.retrieveData()}},F={id:"top-views-carousel",class:"carousel slide","data-bs-ride":"carousel"},N={class:"carousel-indicators carousel-indicators--edit"},$=["data-bs-slide-to","aria-current","aria-label"],P={class:"carousel-inner rounded-1 overflow-hidden",style:{height:"400px"}},R=["src","alt"],S={class:"carousel-caption d-none d-md-block ps-4 text-start carousel-caption--edit"},H={class:"fs-2"},z={class:"font-size-12"},B=s("i",{class:"fa-solid fa-star text-warning"},null,-1),G=s("i",{class:"fa-regular fa-clock text-secondary ms-3"},null,-1),M=s("i",{class:"fa-regular fa-calendar-days text-secondary ms-3"},null,-1),X={class:"fs-4 text-truncate"},L={class:"font-size-12"},O=r("Th\u1EC3 lo\u1EA1i: "),q=s("i",{class:"fa-solid fa-play me-1"},null,-1),J=r(" Xem phim ");function K(e,C,V,k,o,a){const _=h("router-link");return n(),l("div",F,[s("div",N,[(n(!0),l(m,null,f(o.topViews,(t,i)=>(n(),l("button",{type:"button","data-bs-target":"#top-views-carousel","data-bs-slide-to":i,class:x("box-size-10 "+a.showCondition(i,0,"active")),"aria-current":a.showCondition(i,0,!0),"aria-label":"Slide "+i},null,10,$))),256))]),s("div",P,[(n(!0),l(m,null,f(o.topViews,(t,i)=>(n(),l("div",{class:x("carousel-item "+a.showCondition(i,0,"active"))},[d(_,{to:a.showExist(o.slug.film,"")+t.slug},{default:u(()=>[s("img",{src:`${o.HTTP_GG_DRIVE}${t.backgroundId}`,class:"w-100 object-fit",alt:t.name},null,8,R)]),_:2},1032,["to"]),s("div",S,[d(_,{class:"text-decoration-none text-light",to:a.showExist(o.slug.film,"")+t.slug},{default:u(()=>[s("h5",H,c(t.name),1)]),_:2},1032,["to"]),s("p",z,[s("span",null,[B,r(" "+c(t.rating),1)]),s("span",null,[G,r(" "+c(t.episodes.length)+"/"+c(t.length)+" T\u1EADp ",1)]),s("span",null,[M,r(" "+c(t.year),1)])]),s("p",X,c(t.description),1),s("p",L,[O,(n(!0),l(m,null,f(t.genres,g=>(n(),v(_,{class:"text-decoration-none text-warning mx-2",to:a.showExist(o.slug.genre,"")+g.slug},{default:u(()=>[r(c(g.name),1)]),_:2},1032,["to"]))),256))]),d(_,{to:a.showExist(o.slug.film,"")+t.slug,class:"btn btn-danger fs-4"},{default:u(()=>[q,J]),_:2},1032,["to"])])],2))),256))])])}const Q=b(A,[["render",K]]),U={components:{Slide:Q,Card:I,RightPage:j},data(){return{animes:[],notAnimes:[],slug:y}},methods:{async retrieveData(){try{this.animes=await p.filter("countries","japan",0,1,20),this.notAnimes=await p.filter("countries","japan",1,1,20),this.animes.map(e=>(e.episodes.sort(),e))}catch(e){console.log(e),alert("C\xF3 l\u1ED7i x\u1EA3y ra! Vui l\xF2ng t\u1EA3i l\u1EA1i trang!")}},async deleteFilm(e){console.log(e),e&&(await p.delete(e),await this.retrieveData(),console.log(this.notAnimes))}},async created(){await this.retrieveData()}},W={class:"container container-flush rounded-1 overflow-hidden mt-3 p-3 bg-dark text-light"},Y={class:"row"},Z={class:"col-9"},ss={class:"row"},ts={class:"row mt-3"},es=s("h3",{class:"fw-normal fs-1"},"ANIME M\u1EDAI C\u1EACP NH\u1EACT",-1),os={class:"row row-cols-5"},ns={class:"row justify-content-center"},as=r("Xem th\xEAm"),is={class:"row mt-3"},ls=s("h3",{class:"fw-normal fs-1"},"ANIMATION M\u1EDAI",-1),rs={class:"row row-cols-5"},cs={class:"row justify-content-center"},ds=r("Xem th\xEAm");function _s(e,C,V,k,o,a){const _=h("Slide"),t=h("Card"),i=h("router-link"),g=h("RightPage");return n(),l("div",W,[s("div",Y,[s("article",Z,[s("section",ss,[d(_)]),s("section",ts,[es,s("div",os,[(n(!0),l(m,null,f(o.animes,w=>(n(),v(t,{film:w,slug:o.slug},null,8,["film","slug"]))),256))]),s("div",ns,[d(i,{class:"btn btn-primary bg-secondary border-0 fs-3",to:"/films/filter?field=countries&value=japan"},{default:u(()=>[as]),_:1})])]),s("section",is,[ls,s("div",rs,[(n(!0),l(m,null,f(o.notAnimes,w=>(n(),v(t,{film:w,slug:o.slug,onDeleteFilm:a.deleteFilm},null,8,["film","slug","onDeleteFilm"]))),256))]),s("div",cs,[d(i,{class:"btn btn-primary bg-secondary border-0 fs-3",to:"/films/filter?field=countries&value=japan&reverse=1"},{default:u(()=>[ds]),_:1})])])]),d(g)])])}const fs=b(U,[["render",_s]]);export{fs as default};
